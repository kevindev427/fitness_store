{% extends 'account/_base.html' %}

{% load i18n %}
{% load account socialaccount %}

{% block content %}

<h1>Login</h1>

{% providers_media_js %}
<a class="box login facebook" id="facebook" href="{% provider_login_url "facebook" method="js_sdk" %}">Login with Facebook</a>
<a class="box login google" id="google" href="{% provider_login_url "google" %}">Sign in with Google</a>
<button class="box login email" id="email" onclick="showForm()">Sign in with Email</button>

<form class="login" id="email-form" method="POST" action="{% url 'account_login' %}" style="display: none;">
  {% csrf_token %}
  {{ form.as_p }}
  {% if redirect_field_value %}
  <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
  {% endif %}
  <a class="button secondaryAction" href="{% url 'account_reset_password' %}">{% trans "Forgot Password?" %}</a>
  <button class="primaryAction" type="submit">{% trans "Sign In" %}</button>
</form>

{% endblock content %}

{% block javascript %}
<script>
  function showForm() {
    let x = document.getElementById("email-form");
    if (x.style.display === "none") {
      x.style.display = "block";
    } else {
      x.style.display = "none";
    }
  }
</script>
{% endblock javascript %}